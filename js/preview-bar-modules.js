(function(){"use strict";const h={previewBarHost:"https://cdn.shopify.com/shopifycloud/preview-bar/"}.previewBarHost,z="OnlineStorePreviewBarNextData",x="PBarNextFrame",B="PBarNextFrameWrapper",G=64+4,L=O(G),V=O(30);function O(e){return`calc(${e}px + env(safe-area-inset-bottom, 0))`}function $(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var C,_;function j(){return _||(_=1,C=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,o=[],n=0;n<e.rangeCount;n++)o.push(e.getRangeAt(n));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null;break}return e.removeAllRanges(),function(){e.type==="Caret"&&e.removeAllRanges(),e.rangeCount||o.forEach(function(r){e.addRange(r)}),t&&t.focus()}}),C}var D,I;function X(){if(I)return D;I=1;var e=j(),t={"text/plain":"Text","text/html":"Url",default:"Text"},o="Copy to clipboard: #{key}, Enter";function n(l){var i=(/mac os x/i.test(navigator.userAgent)?"âŒ˜":"Ctrl")+"+C";return l.replace(/#{\s*key\s*}/g,i)}function r(l,i){var d,N,q,S,p,a,T=!1;i||(i={}),d=i.debug||!1;try{q=e(),S=document.createRange(),p=document.getSelection(),a=document.createElement("span"),a.textContent=l,a.ariaHidden="true",a.style.all="unset",a.style.position="fixed",a.style.top=0,a.style.clip="rect(0, 0, 0, 0)",a.style.whiteSpace="pre",a.style.webkitUserSelect="text",a.style.MozUserSelect="text",a.style.msUserSelect="text",a.style.userSelect="text",a.addEventListener("copy",function(c){if(c.stopPropagation(),i.format)if(c.preventDefault(),typeof c.clipboardData>"u"){d&&console.warn("unable to use e.clipboardData"),d&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var A=t[i.format]||t.default;window.clipboardData.setData(A,l)}else c.clipboardData.clearData(),c.clipboardData.setData(i.format,l);i.onCopy&&(c.preventDefault(),i.onCopy(c.clipboardData))}),document.body.appendChild(a),S.selectNodeContents(a),p.addRange(S);var Ae=document.execCommand("copy");if(!Ae)throw new Error("copy command was unsuccessful");T=!0}catch(c){d&&console.error("unable to copy using execCommand: ",c),d&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(i.format||"text",l),i.onCopy&&i.onCopy(window.clipboardData),T=!0}catch(A){d&&console.error("unable to copy using clipboardData: ",A),d&&console.error("falling back to prompt"),N=n("message"in i?i.message:o),window.prompt(N,l)}}finally{p&&(typeof p.removeRange=="function"?p.removeRange(S):p.removeAllRanges()),a&&document.body.removeChild(a),q()}return T}return D=r,D}var J=X();const Y=$(J);function g(e){window.location.assign(e)}function K(){const e=document.getElementById(z);if(e==null||e.textContent==null)return{};try{return JSON.parse(e.textContent)}catch{return{}}}function Q(){if(!("Shopify"in window)||window.Shopify==null)return{};try{return JSON.parse(JSON.stringify(window.Shopify))}catch{return{}}}function Z(e){e.style.height="100dvh"}function ee(e){e.style.height=L}function te(e){e.style.overflow="hidden"}function oe(e){e.style.overflow="visible"}function ne(e){setTimeout(()=>{e.style.height=V},300)}function re({countryCode:e,returnTo:t,localeCode:o}){const n=document.createElement("form");n.action="/localization",n.method="POST",n.style.visibility="hidden";const r={_method:"PUT",return_to:t??""};e&&(r.country_code=e),o&&(r.locale_code=o),Object.keys(r).forEach(l=>{const i=r[l],d=document.createElement("input");d.setAttribute("name",l),d.setAttribute("value",i),n.appendChild(d)}),document.body.append(n),n.submit()}function ie(e,t){Y(e,{message:t})}function ae(){const e=new URL(window.location.href);e.searchParams.set("clearCompanyLocation","1"),g(e.href)}function le(){const e=new URL(window.location.href);e.searchParams.set("exitPreview","1"),g(e.href)}function de(){const e=new URL(window.location.href);e.searchParams.set("pb","0"),g(e.href)}function ce(){const e=document.getElementById(B);e&&(e.hidePopover(),e.remove())}function se(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++)o[t]=e[t];return o}else return Array.from(e)}var R=!1;if(typeof window<"u"){var H={get passive(){R=!0}};window.addEventListener("testPassive",null,H),window.removeEventListener("testPassive",null,H)}var b=typeof window<"u"&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1),s=[],P=!1,M=-1,m=void 0,u=void 0,v=void 0,k=function(t){return s.some(function(o){return!!(o.options.allowTouchMove&&o.options.allowTouchMove(t))})},E=function(t){var o=t||window.event;return k(o.target)||o.touches.length>1?!0:(o.preventDefault&&o.preventDefault(),!1)},ue=function(t){if(v===void 0){var o=!1,n=window.innerWidth-document.documentElement.clientWidth;if(o&&n>0){var r=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right"),10);v=document.body.style.paddingRight,document.body.style.paddingRight=r+n+"px"}}m===void 0&&(m=document.body.style.overflow,document.body.style.overflow="hidden")},fe=function(){v!==void 0&&(document.body.style.paddingRight=v,v=void 0),m!==void 0&&(document.body.style.overflow=m,m=void 0)},pe=function(){return window.requestAnimationFrame(function(){if(u===void 0){u={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left};var t=window,o=t.scrollY,n=t.scrollX,r=t.innerHeight;document.body.style.position="fixed",document.body.style.top=-o,document.body.style.left=-n,setTimeout(function(){return window.requestAnimationFrame(function(){var l=r-window.innerHeight;l&&o>=r&&(document.body.style.top=-(o+l))})},300)}})},me=function(){if(u!==void 0){var t=-parseInt(document.body.style.top,10),o=-parseInt(document.body.style.left,10);document.body.style.position=u.position,document.body.style.top=u.top,document.body.style.left=u.left,window.scrollTo(o,t),u=void 0}},ve=function(t){return t?t.scrollHeight-t.scrollTop<=t.clientHeight:!1},ye=function(t,o){var n=t.targetTouches[0].clientY-M;return k(t.target)?!1:o&&o.scrollTop===0&&n>0||ve(o)&&n<0?E(t):(t.stopPropagation(),!0)},we=function(t,o){if(!t){console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.");return}if(!s.some(function(r){return r.targetElement===t})){var n={targetElement:t,options:{}};s=[].concat(se(s),[n]),b?pe():ue(),b&&(t.ontouchstart=function(r){r.targetTouches.length===1&&(M=r.targetTouches[0].clientY)},t.ontouchmove=function(r){r.targetTouches.length===1&&ye(r,t)},P||(document.addEventListener("touchmove",E,R?{passive:!1}:void 0),P=!0))}},he=function(t){if(!t){console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.");return}s=s.filter(function(o){return o.targetElement!==t}),b&&(t.ontouchstart=null,t.ontouchmove=null,P&&s.length===0&&(document.removeEventListener("touchmove",E,R?{passive:!1}:void 0),P=!1)),b?me():fe()};const y={scrollLockActive:!1,updateScheduled:!1};function U(e){y.scrollLockActive=e,y.updateScheduled||(y.updateScheduled=!0,window.requestAnimationFrame(ge))}function ge(){y.scrollLockActive?we(document.body):he(document.body),y.updateScheduled=!1}function be(e,t){const o=document.getElementById(x),n=document.getElementById(B);switch(e.type){case"PreviewBar::RequestEmbeddedData":t.postMessage(Pe());return;case"PreviewBar::ClearCompanyLocation":ae();return;case"PreviewBar::ExitPreview":le();return;case"PreviewBar::HidePreview":de();return;case"PreviewBar::Redirect":g(e.payload.url);return;case"PreviewBar::Expand":o!=null&&n!=null&&Z(n);return;case"PreviewBar::Minimize":o!=null&&n!=null&&ee(n);return;case"PreviewBar::HideOverflow":o!=null&&n!=null&&(te(n),e.payload.isMobile&&U(!1));return;case"PreviewBar::ShowOverflow":o!=null&&n!=null&&(oe(n),e.payload.isMobile&&U(!0));return;case"PreviewBar::Collapse":o!=null&&n!=null&&ne(n);return;case"PreviewBar::Localize":re({countryCode:e.payload.countryCode,localeCode:e.payload.localeCode,returnTo:e.payload.returnTo});return;case"PreviewBar::CopyToClipboard":ie(e.payload.text,e.payload.instruction);return;case"PreviewBar::RemovePreviewRootElement":ce();return;case"PreviewBar::ProvideEmbeddedData":return;default:Ee(e)}}function Pe(){return{type:"PreviewBar::ProvideEmbeddedData",payload:{embeddedData:K(),shopifyData:Q(),previewUrl:window.location.href}}}function Ee(e){throw new Error(`Did not expect case: ${e}`)}function W(e,t){for(const o in t)if(o!=null){const n=t[o];n&&(e.style[o]=n)}}const Se="#PBarNextFrameWrapper[popover=manual]::backdrop{display:none!important;opacity:0!important;visibility:hidden!important;background:none!important;-webkit-backdrop-filter:none!important;backdrop-filter:none!important}#PBarNextFrameWrapper{view-transition-name:shopify-preview-bar}:view-transition-group(shopify-preview-bar){z-index:calc(infinity)}",f=document.createElement("div");f.id=B;const w=document.createElement("iframe");w.id=x;function F(){document.head.appendChild(Te()),document.body.appendChild(De()),f.showPopover()}const Be={width:"100%",height:"100dvh",border:"none",position:"absolute",bottom:"0",left:"0"},Ce={height:L,width:"100%",position:"fixed",inset:"unset",border:"none",boxSizing:"border-box",overflow:"hidden",bottom:"0",left:"0",margin:"0"};function De(){return w.src=h.endsWith("/")?`${h}index.html`:`${h}/index.html`,w.setAttribute("sandbox","allow-same-origin allow-popups allow-top-navigation allow-scripts"),W(w,Be),W(f,Ce),f.setAttribute("popover","manual"),f.style.setProperty("background-color","transparent","important"),f.appendChild(w),f}function Re(e){const t=new URL(h).origin;if(!(e.origin==null||e.origin!==t)&&e.data==="PreviewBar::Ping"&&e.source){const{port1:o,port2:n}=new MessageChannel;e.source.postMessage("PreviewBarModules::Init",{targetOrigin:e.origin,transfer:[n]}),o.onmessage=({data:r})=>be(r,o)}}function Te(){const e=document.createElement("style");return e.textContent=Se,e}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",F):F(),window.addEventListener("message",Re)})();
